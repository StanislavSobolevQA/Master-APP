# Структура проекта "Рядом"

## Страницы

### Публичные страницы
- `/` - Главная страница (неавторизованные пользователи)
- `/login` - Страница входа/регистрации

### Защищенные страницы (требуют авторизации)
- `/dashboard` - Главная страница дашборда (список всех запросов)
- `/dashboard/create` - Создание нового запроса
- `/dashboard/requests` - Мои запросы
- `/dashboard/offers` - Мои отклики
- `/profile` - Профиль пользователя
- `/requests/[id]` - Просмотр конкретного запроса

## Компоненты

### Навигация
- `components/navbar.tsx` - Навигационная панель (показывает разные элементы для авторизованных/неавторизованных)

### Авторизация
- `components/auth/login-form.tsx` - Форма входа через email

### UI компоненты
- `components/ui/*` - shadcn/ui компоненты

## API Routes

- `/api/auth/login` - POST - вход через email (magic link)
- `/api/auth/logout` - POST - выход
- `/api/requests` - GET/POST - получение и создание запросов
- `/api/requests/[id]/contact` - GET - получение контакта автора
- `/api/requests/[id]/close` - POST - закрытие запроса
- `/api/offers` - POST - создание отклика

## Server Actions

- `app/actions/requests.ts` - функции для работы с запросами:
  - `getRequests()` - получение списка запросов
  - `createRequest()` - создание запроса
  - `createOffer()` - создание отклика
  - `getRequestContact()` - получение контакта
  - `closeRequest()` - закрытие запроса

## Интеграция с Supabase

- `lib/supabase/server.ts` - серверный клиент
- `lib/supabase/client.ts` - клиентский клиент
- `lib/supabase/types.ts` - TypeScript типы
- `middleware.ts` - обработка сессий

## База данных

Таблицы:
- `profiles` - профили пользователей
- `requests` - запросы на помощь
- `offers` - отклики на запросы

